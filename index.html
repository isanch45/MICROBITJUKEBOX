<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microbit Christmas Jukebox</title>
    <style>
        /* --- ESTILS CSS --- */

        body {
            font-family: sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            padding: 20px;
        }

        /* Contenidor principal del simulador */
        .sim-wrap {
            margin: 20px auto; /* Centra el requadre */
            background: white;
            border-radius: 20px; /* Cantonades arrodonides */
            overflow: hidden; /* Assegura que res surti fora */
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); /* Ombra suau */
            transition: all 0.3s ease; /* Fa l'animació de canvi de mida suau */
        }

        /* Estil per al div intern que conté l'iframe */
        .iframe-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        /* L'iframe ocupa sempre el 100% del contenidor pare */
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: 0;
            display: block;
        }

        /* --- MIDES DEFINIDES --- */
        /* Aquí controlem l'amplada i l'alçada per cada botó */

        .sim-wrap.molt-petit {
            width: 150px;
            height: 125px;
        }

        .sim-wrap.petit {
            width: 300px;
            height: 250px; /* Alçada suficient perquè es vegi tot */
        }

        .sim-wrap.mitja {
            width: 500px;
            height: 410px; /* Proporcional */
        }

        .sim-wrap.gran {
            width: 800px;
            height: 660px; /* Molt d'espai vertical pel simulador gran */
            max-width: 95%; /* Perquè no se surti en mòbils */
        }

        /* Estil dels botons */
        .controls button {
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            border: 1px solid #ccc;
            background: white;
            border-radius: 5px;
            font-size: 16px;
        }

        .controls button:hover {
            background-color: #eee;
        }

    </style>
</head>
<body>

    <h1>Microbit Christmas Jukebox</h1>
    <p>La placa (simulador) apareix just aquí sota. Pots fer-la petita o gran.</p>

    <div id="sim" class="sim-wrap petit" aria-label="Simulator micro:bit">
        <div class="iframe-container">
            <iframe 
                src="https://makecode.microbit.org/---run?id=_Xfb2RVHyfYsi"
                title="MakeCode micro:bit simulator"
                allowfullscreen
                sandbox="allow-popups allow-forms allow-scripts allow-same-origin">
            </iframe>
        </div>
    </div>

    <div class="controls">
        <button onclick="canviaMida('molt-petit')">Molt petit</button>
        <button onclick="canviaMida('petit')">Petit</button>
        <button onclick="canviaMida('mitja')">Mitjà</button>
        <button onclick="canviaMida('gran')">Gran</button>
    </div>

    <script>
        /* --- JAVASCRIPT --- */
        function canviaMida(mida) {
            var contenidor = document.getElementById('sim');
            
            // 1. Treiem totes les classes de mida possibles
            contenidor.classList.remove('molt-petit', 'petit', 'mitja', 'gran');
            
            // 2. Afegim la nova classe seleccionada
            contenidor.classList.add(mida);
        }
    </script>

</body>
</html>
